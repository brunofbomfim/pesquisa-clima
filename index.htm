<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Interativo: An√°lise de Clima SEGER/ES</title>
    <!-- Chosen Palette: Calm Harmony (Warm Neutrals with Blue/Orange Accents) -->
    <!-- Application Structure Plan: A thematic, non-linear dashboard SPA. The structure is designed for intuitive exploration, moving from a high-level overview to deep dives into specific themes. It starts with a 'Vis√£o Geral' dashboard presenting key demographics and the most critical findings (harassment rate, team spirit) to immediately capture user attention. Subsequent sections are organized by theme: 'Cultura & Colabora√ß√£o' (positives), 'Pontos de Aten√ß√£o' (negatives, using interactive tabs for clarity), a dedicated 'Seguran√ßa Psicol√≥gica' section for the critical harassment deep-dive, and concluding with actionable 'Recomenda√ß√µes'. This structure prioritizes user understanding and engagement over mirroring the linear report format, allowing users to navigate based on interest via a sticky navigation bar. -->
    <!-- Visualization & Content Choices: Data from the report is presented using the most effective visualization for its goal, all rendered on Canvas via Chart.js. Goal: Inform -> Donut charts for demographics (G√™nero, V√≠nculo), Big number callouts for impactful stats (101 participants, 34.6% harassment exposure). Goal: Compare -> Bar charts (Faixa Et√°ria), Stacked horizontal bar charts to compare agreement levels on nuanced topics like 'Feedback Culture' and 'Fear of Mistakes'. Goal: Organize -> Interactive tabs (HTML/JS) for 'Pontos de Aten√ß√£o' to avoid clutter, and styled cards with Unicode icons (HTML/Tailwind) for 'Recomenda√ß√µes' to present actionable steps clearly. Goal: Relationships -> A dedicated section combines a big stat, bar chart (training frequency), and qualitative quotes to explore the multi-faceted issue of harassment. This multi-method approach within a section provides a comprehensive view. All visualizations are explained with contextual text from the report. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f7f4;
            color: #2a2a2a;
        }
        .chart-container {
            position: relative;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .text-navy { color: #1e3a8a; }
        .text-blue { color: #3b82f6; }
        .text-orange { color: #f97316; }
        .bg-light-beige { background-color: #f5f5f4; }
        .bg-navy { background-color: #1e3a8a; }
        .bg-blue { background-color: #3b82f6; }
        .bg-orange { background-color: #f97316; }
        .stat-card h3 {
            font-size: 3.5rem;
            font-weight: 900;
            line-height: 1;
        }
        .section-title {
            font-size: 2.25rem;
            font-weight: 900;
            margin-bottom: 0.5rem;
            color: #1e3a8a;
        }
        .section-subtitle {
            font-size: 1.125rem;
            max-width: 800px;
            margin: 0 auto 2.5rem auto;
            color: #575757;
        }
        .nav-item {
            transition: all 0.2s ease-in-out;
        }
        .nav-item:hover, .nav-item.active {
            color: #3b82f6;
            border-bottom-color: #3b82f6;
        }
        .tab.active {
            background-color: #1e3a8a;
            color: white;
        }
    </style>
</head>
<body class="antialiased">

    <nav id="navbar" class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="text-xl font-bold text-navy">SEGER/ES | Sua Voz Importa</div>
                <div class="hidden md:flex space-x-8">
                    <a href="#overview" class="nav-item text-gray-600 font-semibold border-b-2 border-transparent pb-1">Vis√£o Geral</a>
                    <a href="#culture" class="nav-item text-gray-600 font-semibold border-b-2 border-transparent pb-1">Cultura & Colabora√ß√£o</a>
                    <a href="#attention" class="nav-item text-gray-600 font-semibold border-b-2 border-transparent pb-1">Pontos de Aten√ß√£o</a>
                    <a href="#security" class="nav-item text-gray-600 font-semibold border-b-2 border-transparent pb-1">Seguran√ßa Psicol√≥gica</a>
                    <a href="#recommendations" class="nav-item text-gray-600 font-semibold border-b-2 border-transparent pb-1">Recomenda√ß√µes</a>
                </div>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-4 md:p-8">

        <section id="overview" class="my-12 text-center">
            <h2 class="section-title">Vis√£o Geral do Clima Organizacional</h2>
            <p class="section-subtitle">
                Uma an√°lise de 101 vozes que revelam os pontos fortes e os desafios cr√≠ticos na SEGER/ES. Este dashboard interativo traduz os dados da pesquisa em insights claros para guiar a tomada de decis√£o estrat√©gica.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
                <div class="bg-white p-6 rounded-xl shadow-lg flex flex-col justify-center items-center">
                    <h3 class="stat-card text-blue">101</h3>
                    <p class="text-lg font-bold mt-2 text-navy">Participantes</p>
                    <p class="mt-2 text-sm text-gray-600 text-center">Respostas validadas que formam a base desta an√°lise completa e confi√°vel.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg flex flex-col justify-center items-center">
                    <h3 class="stat-card text-orange">34,6%</h3>
                    <p class="text-lg font-bold mt-2 text-navy">Exposi√ß√£o ao Ass√©dio</p>
                    <p class="mt-2 text-sm text-gray-600 text-center">Propor√ß√£o alarmante de colaboradores que j√° testemunharam ou sofreram ass√©dio no trabalho.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg flex flex-col justify-center items-center">
                    <h3 class="stat-card text-blue">91%</h3>
                    <p class="text-lg font-bold mt-2 text-navy">Apoio entre Colegas</p>
                    <p class="mt-2 text-sm text-gray-600 text-center">Colaboradores se sentem confort√°veis para pedir ajuda, indicando forte coes√£o nas equipes.</p>
                </div>
            </div>
             <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8 items-center">
                <div class="bg-white rounded-xl shadow-md p-6">
                    <h3 class="font-bold text-xl mb-4 text-navy">Perfil dos Respondentes: G√™nero</h3>
                    <div class="chart-container mx-auto max-w-sm">
                        <canvas id="genderChart"></canvas>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-md p-6">
                    <h3 class="font-bold text-xl mb-4 text-navy">Perfil dos Respondentes: Faixa Et√°ria</h3>
                    <div class="chart-container">
                        <canvas id="ageChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="culture" class="my-24 text-center">
            <h2 class="section-title">Cultura & Colabora√ß√£o: A For√ßa das Equipes</h2>
            <p class="section-subtitle">A pesquisa revela uma base s√≥lida de respeito, apoio e seguran√ßa psicol√≥gica no n√≠vel das equipes. Os colaboradores sentem-se √† vontade para inovar e colaborar, um ativo fundamental para a organiza√ß√£o.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-md text-left">
                    <span class="text-4xl">üí°</span>
                    <h3 class="text-xl font-bold text-navy mt-3">Abertura para Novas Ideias</h3>
                    <p class="text-5xl font-black text-blue mt-2">95%</p>
                    <p class="mt-3 text-gray-700">Concordam que se sentem √† vontade para trazer novas ideias ou fazer perguntas, mesmo que pare√ßam "bobas", fomentando um ambiente prop√≠cio √† inova√ß√£o.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md text-left">
                    <span class="text-4xl">ü§ù</span>
                    <h3 class="text-xl font-bold text-navy mt-3">Ajuda M√∫tua</h3>
                    <p class="text-5xl font-black text-blue mt-2">90%</p>
                    <p class="mt-3 text-gray-700">Sentem-se confort√°veis para pedir ajuda aos colegas, um forte indicador de confian√ßa e interdepend√™ncia positiva dentro das equipes.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md text-left">
                     <span class="text-4xl">Â∞äÈáç</span>
                    <h3 class="text-xl font-bold text-navy mt-3">Ambiente de Respeito</h3>
                    <p class="text-5xl font-black text-blue mt-2">92%</p>
                    <p class="mt-3 text-gray-700">Percebem um ambiente de respeito e cortesia, confirmando que as rela√ß√µes interpessoais di√°rias s√£o saud√°veis e construtivas.</p>
                </div>
            </div>
        </section>

        <section id="attention" class="my-24">
            <h2 class="section-title text-center">Pontos de Aten√ß√£o Sist√™micos</h2>
            <p class="section-subtitle text-center">Apesar da for√ßa das equipes, a an√°lise aponta para desafios organizacionais que impactam o bem-estar e o desenvolvimento. Essas √°reas exigem uma abordagem estrat√©gica e a√ß√µes concretas da lideran√ßa.</p>
            <div class="bg-white p-6 rounded-xl shadow-lg">
                <div class="mb-6 border-b border-gray-200">
                    <nav class="flex space-x-1" id="tabs-nav">
                        <button data-tab="feedback" class="tab font-semibold px-4 py-2 rounded-t-lg transition-colors duration-300">Cultura de Feedback</button>
                        <button data-tab="mistakes" class="tab font-semibold px-4 py-2 rounded-t-lg transition-colors duration-300">Medo de Errar</button>
                        <button data-tab="mental-health" class="tab font-semibold px-4 py-2 rounded-t-lg transition-colors duration-300">Sa√∫de Mental</button>
                    </nav>
                </div>
                <div id="tabs-content">
                    <div id="tab-feedback" class="tab-content hidden">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                            <div>
                                <h3 class="text-2xl font-bold text-navy mb-2">A Lacuna no Feedback Construtivo</h3>
                                <p class="text-gray-700 mb-4">Apenas 38% concordam totalmente que existe uma cultura de feedback. A falta de processos formais e informais para conversas de desenvolvimento √© uma fragilidade que limita o crescimento individual e coletivo, mesmo que as rela√ß√µes interpessoais sejam boas.</p>
                                <p class="text-gray-700 font-semibold">Isto sugere que a cultura de feedback n√£o est√° efetivamente implementada.</p>
                            </div>
                            <div class="chart-container">
                                <canvas id="feedbackChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div id="tab-mistakes" class="tab-content hidden">
                         <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                            <div>
                                <h3 class="text-2xl font-bold text-navy mb-2">O Receio da Puni√ß√£o</h3>
                                <p class="text-gray-700 mb-4">Embora a confian√ßa entre colegas seja alta, 11% dos colaboradores ainda acreditam que um erro cometido ser√° usado contra eles. Este medo n√£o vem dos pares, mas aponta para uma percep√ß√£o de consequ√™ncias sist√™micas ou gerenciais negativas.</p>
                                <p class="text-gray-700 font-semibold">Esse receio pode inibir a tomada de riscos e a inova√ß√£o, criando uma cultura onde a seguran√ßa √© priorizada em detrimento da aprendizagem.</p>
                            </div>
                            <div class="chart-container">
                                <canvas id="mistakeChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div id="tab-mental-health" class="tab-content hidden">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                            <div>
                                <h3 class="text-2xl font-bold text-navy mb-2">Apoio √† Sa√∫de Mental: Uma Demanda Clara</h3>
                                <p class="text-gray-700 mb-4">Quase 10% dos respondentes sentem que sua sa√∫de mental n√£o √© considerada ou apoiada. A percep√ß√£o √© que o suporte depende mais dos colegas do que de um programa estruturado pela organiza√ß√£o.</p>
                                <blockquote class="border-l-4 border-orange pl-4 italic text-gray-600">"Acredito que a sa√∫de mental n√£o √© devidamente valorada pela gest√£o. N√£o h√° di√°logos sobre isso, fazer uma reuni√£o a cada 3 ou 6 meses n√£o resolve..." - <span class="font-semibold">Coment√°rio de um colaborador.</span></blockquote>
                            </div>
                            <div class="chart-container">
                                <canvas id="mentalHealthChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="security" class="my-24 bg-red-50 p-8 rounded-xl">
            <h2 class="section-title text-center text-orange">Seguran√ßa Psicol√≥gica: Um Alerta Cr√≠tico</h2>
            <p class="section-subtitle text-center">Esta √© a √°rea mais preocupante revelada pela pesquisa. A alta incid√™ncia de exposi√ß√£o ao ass√©dio, combinada com lacunas na preven√ß√£o e treinamento, exige a√ß√£o imediata e contundente para garantir um ambiente de trabalho verdadeiramente seguro.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div class="text-center">
                    <p class="text-7xl md:text-8xl font-black text-orange">1 em cada 3</p>
                    <p class="text-2xl font-bold text-gray-800 mt-2">colaboradores j√° presenciou ou sofreu ass√©dio.</p>
                    <p class="mt-4 text-gray-600">Este dado de 34,6% contrasta com a percep√ß√£o de que a cultura da equipe √© intolerante ao ass√©dio, indicando que os incidentes ocorrem apesar das boas inten√ß√µes dos pares e apontam para uma falha sist√™mica.</p>
                     <blockquote class="mt-6 text-left border-l-4 border-orange pl-4 italic text-gray-600 text-sm">"Eu n√£o s√≥ vivenciei momentos de ass√©dio como tamb√©m presenciei colegas sendo assediados... Foram momentos terr√≠veis que desencadeavam enfermidades na alma, como ang√∫stias, crises de ansiedades e depress√£o." - <span class="font-semibold">Relato de um colaborador.</span></blockquote>
                </div>
                <div>
                     <h3 class="text-xl font-bold text-navy mb-4 text-center">A Lacuna no Treinamento √© uma Barreira Cr√≠tica</h3>
                    <div class="chart-container" style="height: 300px; max-height: 350px;">
                        <canvas id="harassmentTrainingChart"></canvas>
                    </div>
                    <p class="mt-4 text-sm text-gray-600 text-center">Um total de 63% dos colaboradores nunca ou raramente recebeu treinamento sobre o tema. A falta de conhecimento sobre como identificar e denunciar o ass√©dio √© um obst√°culo fundamental para a preven√ß√£o eficaz.</p>
                </div>
            </div>
        </section>

        <section id="recommendations" class="my-24">
            <h2 class="section-title text-center">Recomenda√ß√µes: O Caminho para a Mudan√ßa</h2>
            <p class="section-subtitle text-center">Com base nas an√°lises, as seguintes a√ß√µes priorit√°rias s√£o recomendadas para fortalecer a cultura organizacional, promover o bem-estar e garantir a seguran√ßa de todos na SEGER/ES.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-blue">
                    <span class="text-4xl">üí¨</span>
                    <h3 class="text-xl font-bold my-3 text-navy">Cultura de Feedback</h3>
                    <p class="text-gray-700">Implementar programas de treinamento sobre feedback construtivo e criar canais formais e seguros para a troca de opini√µes, valorizando a comunica√ß√£o proativa.</p>
                </div>
                 <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-blue">
                    <span class="text-4xl">‚ù§Ô∏è</span>
                    <h3 class="text-xl font-bold my-3 text-navy">Sa√∫de Mental</h3>
                    <p class="text-gray-700">Desenvolver um programa de sa√∫de mental com di√°logos frequentes, acesso a recursos e capacita√ß√£o da lideran√ßa para identificar sinais de estresse e oferecer suporte.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-blue">
                    <span class="text-4xl">‚öñÔ∏è</span>
                    <h3 class="text-xl font-bold my-3 text-navy">Equil√≠brio e Carga de Trabalho</h3>
                    <p class="text-gray-700">Revisar a distribui√ß√£o de tarefas, otimizar processos e promover ativamente pol√≠ticas de flexibilidade e desconex√£o para garantir um equil√≠brio saud√°vel.</p>
                </div>
                 <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-orange">
                    <span class="text-4xl">üõ°Ô∏è</span>
                    <h3 class="text-xl font-bold my-3 text-navy">Combate ao Ass√©dio</h3>
                    <p class="text-gray-700">Realizar treinamentos obrigat√≥rios e cont√≠nuos sobre o tema. Revisar e comunicar os mecanismos de den√∫ncia para garantir transpar√™ncia, efic√°cia e confian√ßa.</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="text-center p-6 bg-gray-200 text-gray-600 text-sm mt-16">
        <p>Dashboard Interativo gerado a partir da An√°lise de Clima "Sua Voz Importa" - SEGER/ES.</p>
        <p>Junho de 2025.</p>
    </footer>

    <script>
        const FONT_COLOR = '#1e3a8a';
        const BORDER_COLOR = 'rgba(30, 58, 138, 0.1)';
        const PALETTE = {
            blue: '#3b82f6',
            navy: '#1e3a8a',
            orange: '#f97316',
            lightBlue: '#bfdbfe',
            red: '#ef4444',
            green: '#22c55e',
            gray: '#9ca3af',
            lightGray: '#e5e7eb'
        };

        function wrapLabel(str, maxWidth) {
            if (typeof str !== 'string' || str.length <= maxWidth) return str;
            const words = str.split(' ');
            const lines = [];
            let currentLine = words[0];
            for (let i = 1; i < words.length; i++) {
                if (currentLine.length + words[i].length + 1 < maxWidth) {
                    currentLine += ' ' + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            return Array.isArray(label) ? label.join(' ') : label;
        };

        const chartDefaultOptions = (legendDisplay = true) => ({
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { display: legendDisplay, labels: { color: FONT_COLOR, boxWidth: 15 } },
                tooltip: { callbacks: { title: tooltipTitleCallback } }
            },
            scales: {
                y: { beginAtZero: true, ticks: { color: FONT_COLOR }, grid: { color: BORDER_COLOR } },
                x: { ticks: { color: FONT_COLOR }, grid: { display: false } }
            }
        });
        
        const chartPieOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { position: 'top', labels: { color: FONT_COLOR, boxWidth: 15 } },
                tooltip: { callbacks: { title: tooltipTitleCallback } }
            }
        };

        new Chart(document.getElementById('genderChart'), {
            type: 'doughnut',
            data: {
                labels: ['Feminino', 'Masculino', 'N√£o Disseram/Outro'],
                datasets: [{
                    data: [67.3, 29.7, 3.0],
                    backgroundColor: [PALETTE.blue, PALETTE.orange, PALETTE.gray],
                    borderColor: '#f8f7f4',
                    borderWidth: 4
                }]
            },
            options: chartPieOptions
        });

        new Chart(document.getElementById('ageChart'), {
            type: 'bar',
            data: {
                labels: ['18-24', '25-34', '35-44', '45-54', '55-64'],
                datasets: [{
                    label: 'N¬∫ de Respondentes',
                    data: [6, 21, 31, 29, 12],
                    backgroundColor: PALETTE.lightBlue,
                    borderColor: PALETTE.blue,
                    borderWidth: 1
                }]
            },
            options: chartDefaultOptions(false)
        });

        const feedbackChart = new Chart(document.getElementById('feedbackChart'), {
            type: 'bar',
            data: {
                labels: ['Cultura de Feedback'],
                datasets: [
                    { label: 'Concordo Totalmente', data: [38], backgroundColor: PALETTE.navy },
                    { label: 'Concordo', data: [35], backgroundColor: PALETTE.blue },
                    { label: 'Indeciso', data: [7], backgroundColor: PALETTE.gray },
                    { label: 'Discordo', data: [14], backgroundColor: PALETTE.orange },
                    { label: 'Discordo Totalmente', data: [7], backgroundColor: PALETTE.red }
                ]
            },
            options: { ...chartDefaultOptions(), indexAxis: 'y', scales: { x: { stacked: true }, y: { stacked: true, ticks: { display: false } } } }
        });
        
        const mistakeChart = new Chart(document.getElementById('mistakeChart'), {
            type: 'bar',
            data: {
                labels: ['Erro usado contra mim'],
                datasets: [
                    { label: 'Discordo Totalmente', data: [55], backgroundColor: PALETTE.navy },
                    { label: 'Discordo', data: [24], backgroundColor: PALETTE.blue },
                    { label: 'Indeciso', data: [11], backgroundColor: PALETTE.gray },
                    { label: 'Concordo', data: [10], backgroundColor: PALETTE.orange },
                    { label: 'Concordo Totalmente', data: [1], backgroundColor: PALETTE.red }
                ]
            },
            options: { ...chartDefaultOptions(), indexAxis: 'y', scales: { x: { stacked: true }, y: { stacked: true, ticks: { display: false } } } }
        });
        
        const mentalHealthChart = new Chart(document.getElementById('mentalHealthChart'), {
            type: 'bar',
            data: {
                labels: ['Sa√∫de Mental Apoiada'],
                datasets: [
                    { label: 'Concordo Totalmente/Concordo', data: [90.1], backgroundColor: PALETTE.blue },
                    { label: 'Discordo Totalmente/Discordo', data: [7.9], backgroundColor: PALETTE.orange },
                    { label: 'Indeciso', data: [2], backgroundColor: PALETTE.gray }
                ]
            },
            options: { ...chartDefaultOptions(), indexAxis: 'y', scales: { x: { stacked: true }, y: { stacked: true, ticks: { display: false } } } }
        });

        new Chart(document.getElementById('harassmentTrainingChart'), {
            type: 'bar',
            data: {
                labels: ['Nunca', 'Raramente', 'Ocasionalmente', 'Frequentemente', 'Muito Frequentemente'],
                datasets: [{
                    label: 'Frequ√™ncia de Treinamento',
                    data: [24, 39, 0, 16, 22],
                    backgroundColor: [PALETTE.red, PALETTE.orange, PALETTE.gray, PALETTE.blue, PALETTE.navy],
                }]
            },
             options: chartDefaultOptions(false)
        });

        // Tabs functionality
        const tabsNav = document.getElementById('tabs-nav');
        const tabsContent = document.getElementById('tabs-content');
        const tabs = tabsNav.querySelectorAll('.tab');
        const tabContents = tabsContent.querySelectorAll('.tab-content');

        function showTab(tabId) {
            tabs.forEach(tab => {
                tab.classList.toggle('active', tab.dataset.tab === tabId);
            });
            tabContents.forEach(content => {
                content.classList.toggle('hidden', content.id !== `tab-${tabId}`);
            });
            // Resize charts on tab change to prevent rendering issues
            setTimeout(() => {
                if (tabId === 'feedback') feedbackChart.resize();
                if (tabId === 'mistakes') mistakeChart.resize();
                if (tabId === 'mental-health') mentalHealthChart.resize();
            }, 10);
        }

        tabsNav.addEventListener('click', (e) => {
            if (e.target.matches('.tab')) {
                showTab(e.target.dataset.tab);
            }
        });
        
        // Show the first tab by default
        showTab('feedback');

        // Navbar active link on scroll
        const sections = document.querySelectorAll('section');
        const navItems = document.querySelectorAll('.nav-item');
        
        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= sectionTop - 100) {
                    current = section.getAttribute('id');
                }
            });

            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href').includes(current)) {
                    item.classList.add('active');
                }
            });
        });
    </script>
</body>
</html>
